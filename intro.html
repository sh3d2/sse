<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<div id="container"></div>

<script>
    if (!!window.EventSource) {
        var es = new EventSource('/events');
        es.addEventListener('message',function(event) {
            document.getElementById("container").innerHTML = event.data;
        }, false);

        es.addEventListener('error', function(event) {
            if (event.target.readyState == EventSource.CLOSED) {
                document.getElementById("container").innerHTML = 'Disconnected';
            }
            else if (event.target.readyState == EventSource.CONNECTING) {
                document.getElementById("container").innerHTML = 'Connecting...';
            }
        }, false)
    }
    else{
        // fallback to long polling
    }
</script>
</body>
</html>